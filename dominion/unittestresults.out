File 'cardtest2.c'
Lines executed:81.82% of 22
Branches executed:100.00% of 12
Taken at least once:66.67% of 12
Calls executed:57.14% of 7
Creating 'cardtest2.c.gcov'

        -:    0:Source:cardtest2.c
        -:    0:Graph:cardtest2.gcno
        -:    0:Data:cardtest2.gcda
        -:    0:Runs:5
        -:    0:Programs:1
        -:    1://unittest1.c
        -:    2:#include "dominion.h"
        -:    3:#include "dominion_helpers.h"
        -:    4:#include "rngs.h"
        -:    5:#include <stdio.h>
        -:    6:#include <math.h>
        -:    7:#include <stdlib.h>
        -:    8:
        -:    9:
        -:   10: /*
        -:   11: 
        -:   12: The Great Hall
        -:   13: +1 Card
        -:   14: +1 Action
        -:   15:  Action-Victory (+1 )
        -:   16: */
        -:   17: 
        -:   18: 
        -:   19: 
        -:   20: struct gameState state_chk ={
        -:   21:        2,                    //Number of players
        -:   22:        {10,8,8,8,46,40,30},  //suplyCount[curse,estate,duchy,province,]
        -:   23:        {0,0}, //embargoTokens
        -:   24:        0,     //outpostPlayed
        -:   25:        0,     //Oupost Turn
        -:   26:        1,     // whoseTurn;
        -:   27:        0,     //int phase;
        -:   28:        1,     //int numActions; * Starts at 1 each turn */
        -:   29:        0,     //int coins; * Use as you see fit! */
        -:   30:        0,     //int numBuys; * Starts at 1 each turn */
        -:   31:        {{0,1,2},{4,16,6}},    //hand[MAX_PLAYERS][MAX_HAND];
        -:   32:        {3,3},  // handCount[MAX_PLAYERS];
        -:   33:        {{0,1,2,3,4,5,6,7,10,25},{0,1,2,3,4,5,6,7,10,25}},    //deck[MAX_PLAYERS][MAX_DECK];
        -:   34:        {10,10},              //deckCount[MAX_PLAYERS];
        -:   35:        {{0,0},{1,0}},    //discard[MAX_PLAYERS][MAX_DECK];
        -:   36:        {0},    //discardCount[MAX_PLAYERS];
        -:   37:        {0},    // playedCards[MAX_DECK];
        -:   38:         0     // playedCardCount;
        -:   39:    };
        -:   40:
function main called 5 returned 100% blocks executed 79%
        5:   41:int main(){
        -:   42:
        -:   43:    int i;
        5:   44:    int coins = 0;
        -:   45:    int in_actions;
        -:   46:    int in_deck_count;
        -:   47:    int in_hand_count;
        -:   48:    int out_deck_count;
        -:   49:    int out_hand_count;
        5:   50:    int flag_card = 0;
        5:   51:    int draw_one = 0;
        5:   52:    int player = 1;
        5:   53:    in_actions = state_chk.numActions;
        -:   54:
        -:   55:
        -:   56:
        5:   57:    cardEffect(16, -1, -1, -1, &state_chk, 1 , &coins);
call    0 returned 100%
        -:   58:
       20:   59:    for( i = 0; i < state_chk.handCount[player] ; i++){
branch  0 taken 75%
branch  1 taken 25% (fallthrough)
       15:   60:        if(state_chk.hand[player][i] == 16){
branch  0 taken 0% (fallthrough)
branch  1 taken 100%
    #####:   61:            flag_card = 1;
        -:   62:        }
       15:   63:        if(state_chk.hand[player][i] == 25){
branch  0 taken 33% (fallthrough)
branch  1 taken 67%
        5:   64:            draw_one = 1;
        -:   65:        }    
        -:   66:        
        -:   67:    }
        -:   68:
        -:   69:
        5:   70:    if(flag_card != 1 ){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        5:   71:        printf("PASSED: Great Hall dropped from hand \n");    
call    0 returned 100%
        -:   72:    }else{
    #####:   73:        printf("FAILED: Great Hall failed to be discarded\n" );    
call    0 never executed
        -:   74:    }
        -:   75:
        5:   76:    if(draw_one == 1 ){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        5:   77:        printf("PASSED: First card drawn to hand\n");    
call    0 returned 100%
        -:   78:    }else{
    #####:   79:        printf("FAILED: First card failed to be drawn\n");    
call    0 never executed
        -:   80:    }
        -:   81:  
        5:   82:    if(in_actions == state_chk.numActions -1){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        5:   83:        printf("PASSED: Player has one additional action\n");
call    0 returned 100%
        -:   84:    }else{
    #####:   85:        printf("FAILED: Player failed to get one additional action\n");
call    0 never executed
        -:   86:    }   
        -:   87:
        -:   88:
        -:   89:
        -:   90:
        -:   91:
        -:   92:
        -:   93:
        -:   94:
        5:   95:    return 0;
        -:   96:}
FAILED: deck count before adventurer 10, deck count after adventurer 5
PASSED: hand count before adventurer 3, hand count after adventurer 5
Deck size 10
 0: 0 0
 1: 1 1
 2: 2 2
 3: 3 3
 4: 4 4
 5: 5 5
 6: 6 6
 7: 7 7
 8: 10 10
 9: 25 25
SUCCESS: the number of matches 10 after shuffle
SUCCESS: deck in new order following shuffle 
File 'cardtest3.c'
Lines executed:90.00% of 40
Branches executed:100.00% of 14
Taken at least once:64.29% of 14
Calls executed:66.67% of 12
Creating 'cardtest3.c.gcov'

        -:    0:Source:cardtest3.c
        -:    0:Graph:cardtest3.gcno
        -:    0:Data:cardtest3.gcda
        -:    0:Runs:6
        -:    0:Programs:1
        -:    1:
        -:    2:
        -:    3:
        -:    4:
        -:    5://unittest1.c
        -:    6:#include "dominion.h"
        -:    7:#include "dominion_helpers.h"
        -:    8:#include "rngs.h"
        -:    9:#include <stdio.h>
        -:   10:#include <math.h>
        -:   11:#include <stdlib.h>
        -:   12:
        -:   13:
        -:   14: /*
        -:   15: 
        -:   16: The Adeventurer
        -:   17: Reveal cards from your deck until you reveal 2 Treasure cards.
        -:   18: Put those Treasure cards in your hand and discard the other revealed cards.
        -:   19:  
        -:   20: */
        -:   21: 
        -:   22: 
        -:   23: struct gameState state_chk ={
        -:   24:        2,                    //Number of players
        -:   25:        {10,8,8,8,46,40,30},  //suplyCount[curse,estate,duchy,province,]
        -:   26:        {0,0}, //embargoTokens
        -:   27:        0,     //outpostPlayed
        -:   28:        0,     //Oupost Turn
        -:   29:        1,     // whoseTurn;
        -:   30:        0,     //int phase;
        -:   31:        1,     //int numActions; * Starts at 1 each turn */
        -:   32:        0,     //int coins; * Use as you see fit! */
        -:   33:        0,     //int numBuys; * Starts at 1 each turn */
        -:   34:        {{0,7,2},{4,7,6}},    //hand[MAX_PLAYERS][MAX_HAND];
        -:   35:        {3,3},  // handCount[MAX_PLAYERS];
        -:   36:        {{0,1,2,3,4,5,6,7,10,25},{0,1,2,3,4,5,6,7,10,25}},    //deck[MAX_PLAYERS][MAX_DECK];
        -:   37:        {0,10},              //deckCount[MAX_PLAYERS];
        -:   38:        {{4,4,13,1,14},{4,4,13,1,14}},    //discard[MAX_PLAYERS][MAX_DECK];
        -:   39:        {0},    //discardCount[MAX_PLAYERS];
        -:   40:        {0},    // playedCards[MAX_DECK];
        -:   41:         0     // playedCardCount;
        -:   42:    };
        -:   43:
function main called 6 returned 100% blocks executed 85%
        6:   44:int main(){
        -:   45:
        -:   46:    int i, j;
        6:   47:    int coins = 0;
        -:   48:    int in_deck_count;
        -:   49:    int in_hand_count;
        -:   50:    int out_deck_count;
        -:   51:    int out_hand_count;
        6:   52:    int match =0;
        6:   53:    int mismatch =0;
        -:   54:    int player;
        -:   55:    
        -:   56:    //Get game status before card played    
        6:   57:    player = state_chk.whoseTurn;
        6:   58:    in_hand_count = state_chk.handCount[player];
        6:   59:    in_deck_count = state_chk.deckCount[player];
        6:   60:    int pile[][MAX_DECK] =  {{0,1,2,3,4,5,6,7,10,25},{4,4,13,1,14}};
        6:   61:    int size_y = 10;	
        6:   62:    int size_x= 10;
        -:   63:        
        -:   64:   
        6:   65:    cardEffect(7, -1, -1, -1, &state_chk,1 , &coins);
call    0 returned 100%
        -:   66:
        -:   67:
        -:   68: //Get new game status
        6:   69:    out_hand_count = state_chk.handCount[player];
        6:   70:    out_deck_count = state_chk.deckCount[player];
        -:   71:    
        6:   72:    if(out_deck_count == in_deck_count - 3 ){
branch  0 taken 0% (fallthrough)
branch  1 taken 100%
    #####:   73:        printf("PASSED: deck count before adventurer %d, deck count after adventurer %d\n", in_deck_count, out_deck_count);    
call    0 never executed
        -:   74:    }else{
        6:   75:        printf("FAILED: deck count before adventurer %d, deck count after adventurer %d\n", in_deck_count, out_deck_count);    
call    0 returned 100%
        -:   76:        
        -:   77:    }
        -:   78:
        6:   79:    out_hand_count = state_chk.handCount[player];
        -:   80:
        6:   81:    if(out_hand_count == in_hand_count + 2 ){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        6:   82:        printf("PASSED: hand count before adventurer %d, hand count after adventurer %d\n", in_hand_count, out_hand_count);    
call    0 returned 100%
        -:   83:    }else{
    #####:   84:        printf("FAILED: hand count before adventurer %d, hand count after adventurer %d\n", in_hand_count, out_hand_count);    
call    0 never executed
        -:   85:        
        -:   86:    }
        -:   87:
        6:   88:    player = 0;
        6:   89:    state_chk.whoseTurn = 0;
        6:   90:    cardEffect(7, -1, -1, -1, &state_chk, 1 , &coins);
call    0 returned 100%
        -:   91:
        6:   92:	printf("Deck size %d\n", size_x);
call    0 returned 100%
        -:   93:	
       66:   94:	for(i = 0; i < size_x; i++){
branch  0 taken 91%
branch  1 taken 9% (fallthrough)
      330:   95:		for(j =0; j < size_y; j++){
branch  0 taken 100%
branch  1 taken 0% (fallthrough)
      330:   96:	        if(state_chk.deck[player][i] == pile[player][j]){  
branch  0 taken 18% (fallthrough)
branch  1 taken 82%
       60:   97:	            printf(" %d: %d %d\n", i, state_chk.deck[player][i],  pile[player][j]);
call    0 returned 100%
       60:   98:	            state_chk.deck[player][i]  = -1;
       60:   99:	            pile[player][j] =-1;
       60:  100:	            match ++;            
       60:  101:	            break ;
        -:  102:	            
        -:  103:	        }else{
      270:  104:                mismatch++;
        -:  105:
        -:  106:            }
        -:  107:		
        -:  108:        
        -:  109:			
        -:  110:					}
        -:  111:		
        -:  112:	}
        6:  113:    if(match == size_x){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        6:  114:        printf("SUCCESS: the number of matches %d after shuffle\n", match);
call    0 returned 100%
        -:  115:    }else{
    #####:  116:        printf("FAILED: deck missing cards after shuffle");
call    0 never executed
        -:  117:    }
        6:  118:    if(mismatch > 0){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        6:  119:        printf("SUCCESS: deck in new order following shuffle \n");
call    0 returned 100%
        -:  120:    }else{
    #####:  121:        printf("FAILED: deck in same order after shuffle ");
call    0 never executed
        -:  122:    }    
        -:  123:
        -:  124:
        -:  125:
        -:  126:
        -:  127:
        6:  128:    return 0;
        -:  129:}
        -:  130:
        -:  131:
        -:  132:
        -:  133:
PASSED: deck count before smithy 10, deck count after smithy 7
PASSED: hand count before smithy 3, hand count after smithy 5
PASSED: smithy dropped from hand 
PASSED: First card drawn to hand
PASSED: Second card drawn to hand 
PASSED: Third card drawn to hand 
File 'cardtest4.c'
Lines executed:82.93% of 41
Branches executed:100.00% of 22
Taken at least once:68.18% of 22
Calls executed:53.85% of 13
Creating 'cardtest4.c.gcov'

        -:    0:Source:cardtest4.c
        -:    0:Graph:cardtest4.gcno
        -:    0:Data:cardtest4.gcda
        -:    0:Runs:6
        -:    0:Programs:1
        -:    1:
        -:    2://cardtest4.c
        -:    3:#include "dominion.h"
        -:    4:#include "dominion_helpers.h"
        -:    5:#include "rngs.h"
        -:    6:#include <stdio.h>
        -:    7:#include <math.h>
        -:    8:#include <stdlib.h>
        -:    9:
        -:   10:
        -:   11: /*
        -:   12: 
        -:   13: The Smithy
        -:   14: Draw +3 cards
        -:   15: "the player immediately draws X number of cards from his
        -:   16:Deck. If there are not enough cards in his Deck, he draws as many as he
        -:   17:can, shuffles the Discard pile to form a new Deck, and then draws the
        -:   18:rest. If he still does not have enough cards left after forming a new Deck,
        -:   19:he just draws as many as he can."
        -:   20: */
        -:   21: 
        -:   22: 
        -:   23: 
        -:   24: struct gameState state_chk ={
        -:   25:        2,                    //Number of players
        -:   26:        {10,8,8,8,46,40,30},  //suplyCount[curse,estate,duchy,province,]
        -:   27:        {0,0}, //embargoTokens
        -:   28:        0,     //outpostPlayed
        -:   29:        0,     //Oupost Turn
        -:   30:        1,     // whoseTurn;
        -:   31:        0,     //int phase;
        -:   32:        1,     //int numActions; * Starts at 1 each turn */
        -:   33:        0,     //int coins; * Use as you see fit! */
        -:   34:        0,     //int numBuys; * Starts at 1 each turn */
        -:   35:        {{0,1,2},{4,13,6}},    //hand[MAX_PLAYERS][MAX_HAND];
        -:   36:        {3,3},  // handCount[MAX_PLAYERS];
        -:   37:        {{0,1,2,3,4,5,6,7,10,25},{0,1,2,3,4,5,6,7,10,25}},    //deck[MAX_PLAYERS][MAX_DECK];
        -:   38:        {10,10},              //deckCount[MAX_PLAYERS];
        -:   39:        {{0,1,2,3,4,5,6,7,10,25},{1,0}},    //discard[MAX_PLAYERS][MAX_DECK];
        -:   40:        {10,2},    //discardCount[MAX_PLAYERS];
        -:   41:        {0},    // playedCards[MAX_DECK];
        -:   42:         0     // playedCardCount;
        -:   43:    };
        -:   44:
function main called 6 returned 100% blocks executed 78%
        6:   45:int main(){
        -:   46:
        -:   47:    int i;
        6:   48:    int coins = 0;
        -:   49:    int in_deck_count;
        -:   50:    int in_hand_count;
        -:   51:    int out_deck_count;
        -:   52:    int out_hand_count;
        6:   53:    int flag_card = 0; 
        6:   54:    int draw_one = 0;
        6:   55:    int draw_two = 0;
        6:   56:    int draw_three = 0;
        -:   57:    int player;
        -:   58:    
        -:   59:    //Get game status before card played    
        6:   60:    player = state_chk.whoseTurn;
        6:   61:    in_hand_count = state_chk.handCount[player];
        6:   62:    in_deck_count = state_chk.deckCount[player];
        -:   63:
        -:   64:
        -:   65:
        6:   66:    cardEffect(13, -1, -1, -1, &state_chk,1 , &coins);
call    0 returned 100%
        -:   67:
        -:   68:    //Get new game status
        6:   69:    out_hand_count = state_chk.handCount[player];
        6:   70:    out_deck_count = state_chk.deckCount[player];
        -:   71:    
        6:   72:    if(out_deck_count == in_deck_count - 3 ){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        6:   73:        printf("PASSED: deck count before smithy %d, deck count after smithy %d\n", in_deck_count, out_deck_count);    
call    0 returned 100%
        -:   74:    }else{
    #####:   75:        printf("FAILED: deck count before smithy %d, deck count after smithy %d\n", in_deck_count, out_deck_count);    
call    0 never executed
        -:   76:        
        -:   77:    }
        -:   78:
        6:   79:    out_hand_count = state_chk.handCount[player];
        -:   80:
        6:   81:    if(out_hand_count == in_hand_count + 2 ){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        6:   82:        printf("PASSED: hand count before smithy %d, hand count after smithy %d\n", in_hand_count, out_hand_count);    
call    0 returned 100%
        -:   83:    }else{
    #####:   84:        printf("FAILED: hand count before smithy %d, hand count after smithy %d\n", in_hand_count, out_hand_count);    
call    0 never executed
        -:   85:        
        -:   86:    }
        -:   87:
       36:   88:    for( i = 0; i < state_chk.handCount[player] ; i++){
branch  0 taken 83%
branch  1 taken 17% (fallthrough)
       30:   89:        if(state_chk.hand[player][i] == 13){
branch  0 taken 0% (fallthrough)
branch  1 taken 100%
    #####:   90:            flag_card = 1;
        -:   91:        }
       30:   92:        if(state_chk.hand[player][i] == 7){
branch  0 taken 20% (fallthrough)
branch  1 taken 80%
        6:   93:            draw_one = 1;
        -:   94:        }    
       30:   95:        if(state_chk.hand[player][i] == 10){
branch  0 taken 20% (fallthrough)
branch  1 taken 80%
        6:   96:            draw_two = 1;
        -:   97:        }    
       30:   98:        if(state_chk.hand[player][i] == 25){
branch  0 taken 20% (fallthrough)
branch  1 taken 80%
        6:   99:            draw_three = 1;
        -:  100:        }
        -:  101:    }
        -:  102:
        -:  103:
        6:  104:    if(flag_card != 1 ){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        6:  105:        printf("PASSED: smithy dropped from hand \n");    
call    0 returned 100%
        -:  106:    }else{
    #####:  107:        printf("FAILED: smithy failed to be discarded\n" );    
call    0 never executed
        -:  108:    }
        6:  109:    if(draw_one == 1 ){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        6:  110:        printf("PASSED: First card drawn to hand\n");    
call    0 returned 100%
        -:  111:    }else{
    #####:  112:        printf("FAILED: First card failed to be drawn\n");    
call    0 never executed
        -:  113:    }
        6:  114:    if( draw_two == 1 ){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        6:  115:        printf("PASSED: Second card drawn to hand \n");    
call    0 returned 100%
        -:  116:    }else{
    #####:  117:        printf("FAILED: Second card Failed to be drawn\n");    
call    0 never executed
        -:  118:    }
        6:  119:    if( draw_three == 1){
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        6:  120:        printf("PASSED: Third card drawn to hand \n");    
call    0 returned 100%
        -:  121:    }else{
    #####:  122:        printf("FAILED: Third card failed to be drawn\n");    
call    0 never executed
        -:  123:    }
        -:  124:
        -:  125:
        -:  126:
        -:  127:
        -:  128:
        -:  129:
        -:  130:
        -:  131:
        -:  132:
        -:  133:
        -:  134:
        -:  135:
        -:  136:
        -:  137:
        -:  138:
        -:  139:
        -:  140:
        -:  141:
        -:  142:
        -:  143:
        -:  144:
        -:  145:
        -:  146:
        6:  147:    return 0;
        -:  148:}
